#!/usr/bin/env bash
set -euo pipefail

SCRIPTS="$HOME/.config/rofi/scripts"

# Define menu items as "Label|Command"
MENU_ITEMS=(
  "â¸ï¸ Powermenu|$SCRIPTS/powermenu"
  "ğŸ“ Notes|$SCRIPTS/notes"
  "ï™  HyprEdit|$SCRIPTS/hypredit"
  "ó±„…  NixEdit|$SCRIPTS/nixedit"
  "âŒš Timer|$SCRIPTS/timer"
  "ï‚®  Tasks|$SCRIPTS/task"
  "ğŸ¥ Screen Recorder|$SCRIPTS/screenrecord"
  "ğŸ” Quick Search|$SCRIPTS/quicksearch"
  "ğŸ‘¾ Games|$SCRIPTS/game_launcher"
  "âš™ï¸ Hyprsettings|$SCRIPTS/hyprsettings"
  "âš™ï¸ Projects|$SCRIPTS/projects"
  "ğŸ›œ wifi|$SCRIPTS/wifi"
  "ğŸ“ƒ Mans|$SCRIPTS/man"
  "ğŸ”§ Yad|$SCRIPTS/yad"
  "ğŸ’¡ Brightness|$SCRIPTS/brightness"
  "ğŸ”† Weather|$SCRIPTS/weather"
  "ğŸŒ¡ï¸ Temprature|$SCRIPTS/temps"
  "ğŸ’» Pc Stats|$SCRIPTS/system"
  "ğŸ¨ Waybar Settings|$SCRIPTS/waybarManager"
  "ğŸŸ¥ğŸŸ©ğŸŸ¦ RGB Profiles|$SCRIPTS/rgb_profiles"
)

# Create Rofi menu
CHOICE=$(for item in "${MENU_ITEMS[@]}"; do
  IFS="|" read -r label _ <<<"$item"
  echo "$label"
done | rofi -dmenu -p "Choose Script" -i)

# Match selection and execute command
for item in "${MENU_ITEMS[@]}"; do
  IFS="|" read -r label cmd <<<"$item"
  if [[ "$CHOICE" == "$label" ]]; then
    "$cmd"
    exit 0
  fi
done

exit 1
